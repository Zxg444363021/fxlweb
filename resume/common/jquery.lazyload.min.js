(function(c,f,k,g){var e=c(f);c.fn.lazyload=function(a){function b(){var a=0;h.each(function(){var b=c(this);if((!d.skip_invisible||b.is(":visible"))&&!c.abovethetop(this,d)&&!c.leftofbegin(this,d))if(!c.belowthefold(this,d)&&!c.rightoffold(this,d))b.trigger("appear"),a=0;else if(++a>d.failure_limit)return!1})}var h=this,d={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:f,data_attribute:"original",skip_invisible:!0,appear:null,load:null};a&&(g!==a.failurelimit&&(a.failure_limit=
a.failurelimit,delete a.failurelimit),g!==a.effectspeed&&(a.effect_speed=a.effectspeed,delete a.effectspeed),c.extend(d,a));a=d.container===g||d.container===f?e:c(d.container);0===d.event.indexOf("scroll")&&a.bind(d.event,function(c){return b()});this.each(function(){var a=this,b=c(a);a.loaded=!1;b.one("appear",function(){if(!this.loaded){d.appear&&d.appear.call(a,h.length,d);var e;b.data("background")?e=b.data("background"):b.data("flash")?b.html('<embed src="'+b.data("flash")+'" allowFullScreen="true" quality="high" width="100%" height="100%" align="middle" allowScriptAccess="always" wmode="opaque" type="application/x-shockwave-flash"/>'):
e=b.data(d.data_attribute);c("<img />").bind("load",function(){b.hide();b.data("background")?b.css("background-image","url("+b.data("background")+")"):b.attr("src",b.data(d.data_attribute));b[d.effect](d.effect_speed);a.loaded=!0;var e=c.grep(h,function(a){return!a.loaded});h=c(e);d.load&&d.load.call(a,h.length,d)}).attr("src",e)}});0!==d.event.indexOf("scroll")&&b.bind(d.event,function(c){a.loaded||b.trigger("appear")})});e.bind("resize",function(a){b()});/iphone|ipod|ipad.*os 5/gi.test(navigator.appVersion)&&
e.bind("pageshow",function(a){a.originalEvent.persisted&&h.each(function(){c(this).trigger("appear")})});c(f).load(function(){b()});return this};c.belowthefold=function(a,b){return(b.container===g||b.container===f?e.height()+e.scrollTop():c(b.container).offset().top+c(b.container).height())<=c(a).offset().top-b.threshold};c.rightoffold=function(a,b){return(b.container===g||b.container===f?e.width()+e.scrollLeft():c(b.container).offset().left+c(b.container).width())<=c(a).offset().left-b.threshold};
c.abovethetop=function(a,b){return(b.container===g||b.container===f?e.scrollTop():c(b.container).offset().top)>=c(a).offset().top+b.threshold+c(a).height()};c.leftofbegin=function(a,b){return(b.container===g||b.container===f?e.scrollLeft():c(b.container).offset().left)>=c(a).offset().left+b.threshold+c(a).width()};c.inviewport=function(a,b){return!c.rightoffold(a,b)&&!c.leftofbegin(a,b)&&!c.belowthefold(a,b)&&!c.abovethetop(a,b)};c.extend(c.expr[":"],{"below-the-fold":function(a){return c.belowthefold(a,
{threshold:0})},"above-the-top":function(a){return!c.belowthefold(a,{threshold:0})},"right-of-screen":function(a){return c.rightoffold(a,{threshold:0})},"left-of-screen":function(a){return!c.rightoffold(a,{threshold:0})},"in-viewport":function(a){return c.inviewport(a,{threshold:0})},"above-the-fold":function(a){return!c.belowthefold(a,{threshold:0})},"right-of-fold":function(a){return c.rightoffold(a,{threshold:0})},"left-of-fold":function(a){return!c.rightoffold(a,{threshold:0})}})})(jQuery,window,
document);
